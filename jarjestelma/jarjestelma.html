
<html>
<head>
    <meta charset="UTF-8">
    <script>
        // Ladataan yhteinen header-osio
        fetch('/_header.html')
            .then(response => response.text())
            .then(data => {
                document.head.insertAdjacentHTML('beforeend', data);
            });
    </script>
</head>
<body>
    <article>
        <h2>Järjestelmän kokoonpano</h2>
        <p style="overflow: auto;">
            Järjestelmä koostuu seuraavista osista. Wildcard DNS nimistä *.aikaleima.fi ohjautuu liikenne Nginx proxy-palvelimelle, joka on asennettu Linux-virtuaalipalvelimelle.
            Proxy-palvelin ohjaa liikenteen eri Blazor Server instansseihin, jotka on asennettu samalle Linux-virtuaalipalvelimelle. Jokaisella asiakkaalla on oma Blazor Server instanssi ja oma SQLite tietokanta.
            Testiympäristössä on oma Blazor Server instanssi ja oma SQLite tietokanta.
        </p>
        <!-- Suuri kehys komponenteille -->
        <div style="position: relative; border: 2px solid black; height: 400px; width: 720px;padding: 0px;margin: 40px;">

            <!-- Linux-palvelin vasemmassa yläkulmassa -->
            <div style="position: relative; top: 10px; left: 10px; ">
                <a href="https://www.domainkeskus.com/"><b>Linux-virtuaalipalvelin</b></a>
                <div style="position: relative; border: 1px solid black;
                top: 10px;padding-left: 20px; left: -10px;width: 700px; height: 100px; ">
                    <a href="https://fi.wikipedia.org/wiki/Nginx"><b>Nginx proxy-palvelin</b></a>
                    <a href="nginx.conf"><b>Konfiguraatio</b></a>
                    <div style="position: relative; left: 300px; top: -10px;"> <a href="testi_http.conf"><b>Reititykset</b></a></div>
                    <div style="position: relative; border: 1px solid black;
                        top: 0px; left: 80px;width: 100px; height: 50px; ">
                        <a href="https://aikaleima.fi">järjestelmän sivut</a>
                    </div>
                    <div style="position: relative; border: 1px solid black;
                        top: -50px; left: 190px;width: 100px; height: 50px; ">
                        <a href="https://testi.aikaleima.fi">Testi-palvelu</a>
                        <a href="ssr.service">Konfiguraatio</a>
                    </div>
                    <div style="position: relative; border: 1px solid black;
                        top: -100px; left: 300px;width: 115px; height: 50px; ">
                        asiakas1<br>
						.aikaleima
						.fi
                    </div>
                    <div style="position: relative; border: 1px solid black;
                        top: -150px; left: 420px;width: 115px; height: 50px; ">
                        asiakas2<br>.aikaleima.fi
                    </div>
                    <div style="position: relative; border: 1px solid black;
                        top: -200px; left: 540px;width: 120px; height: 50px; ">
                        asiakas2<br>.aikaleima.fi
                    </div>
                </div>
                <div style="position: relative; border: 1px solid black;
                top: 20px; left: -10px;padding-left: 20px; width: 700px; height: 200px; ">
                    <a href="https://dotnet.microsoft.com/en-us/apps/aspnet/web-apps/blazor"><b>.NET 10 Blazor Server instanssit</b></a>
                    <div style="position: relative; left: 300px; top: -10px;">
                        Localhost instannsit omissa porteissaan 5000-5999<br>
                        ja asennuskansiossaan. Tietokanta asennuskansiossa.
                        <div style="position: relative; border: 1px solid black;
                        top: 10px; left: -120px;width: 110px; height: 120px; ">
                            Testi-palvelu
                            (localhost:5000)
                            <a href="https://www.sqlite.org/index.html">SQLite tietojanta</a>
							<a href="https://github.com/Kettja12/aikajana-ssr">Lähdekoodit</a>
                        </div>
                        <div style="position: relative; border: 1px solid black;
                        top: -110px; left: 0px;width: 115px; height: 120px; ">
                            asiakas1<br>.aikaleima.fi
                            (localhost:5001)
                            (SQLite tietojanta)
                        </div>
                        <div style="position: relative; border: 1px solid black;
                        top: -230; left: 120px;width: 115px; height:120px; ">
                            asiakas2<br>.aikaleima.fi
                            (localhost:5002)
                            (SQLite tietojanta)
                        </div>
                        <div style="position: relative; border: 1px solid black;
                        top: -350px; left: 240px;width: 120px; height: 120px; ">
                            asiakas3<br>.aikaleima.fi
                            (localhost:5003)
                            (SQLite tietojanta)
                        </div>
                    </div>
                </div>
            </div>
    </article>
</body>
</html>