
<html>
<head>
    <meta charset="UTF-8">
    <title>Lähdekoodidokumentaatio</title>

    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/prism.css">

    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/prism.js" data-manual></script>
    <script src="/js/prism-file-highlight.js"></script>

</head>
<body>
    <article>
        <h2>Asiakasjärjestelmät</h2>
        <p>
            Sovelluksen tietoja voi hyödyntää monenlaisissa asiakasjärjestelmissä. Esimerkiksi yritys voi viedä Exceliin työntekijöiden leimaustiedot ja käyttää niitä palkanlaskennassa.
            Jatkossa on tavoitteena julkaista ohjelma lähdekoodeineen, jonka avulla leimaustiedot voi hakea suoraan API-rajapinnan kautta. Siihen liittyen on myös mahdollista
            toteuttaa leimaaja- ja leimauslajitietojen ylläpito rajapinnan kautta.
        </p>
        <p>
            GPS-sijainnin käyttöönotto mahdollistaa esimerkiksi kilpailujen järjestäjille tiedon kilpailijoiden sijainnista ja reaaliaikaisen karttaesityksen toteuttamisen internetissä.
            Eräs variaatio, jonka olen toteuttanut, on purjehduskilpailun seuranta kartalla ja tulosten laskenta.
            Tämä vaatii kuitenkin kilpailuasetuksen käyttöönoton. Silloin pitää lisätä myös lähtö- ja maalilinjat sekä välipisteet.
            Leimaukset tallentuvat reaaliaikaisesti (1-sek - 1 min välein) tapahtuviksi aloitus- ja lopetusleimausten välillä.
        </p>
    </article>
    <article>
        <h2>Shared</h2>
            <p style="overflow: auto;">
            <img src="shared.png" alt="Kirjautuminen" width="300" style="float: left; margin-right: 15px; margin-bottom: 5px;" />
            Shared kansio sisältää sovelluksille yhteiset komponentit.
        </p>
    </article>
    <article>
        <h2>Malliohjelmat sovelluksen API-rajapinnan hyodyntämisen </h2>
        <p>
            Nyt pari ohjelmaa on toteutettu. Ohjelmat on on toteutettu RUST-kielellä ja voi ladata  GitHubista <a href="https://github.com/Kettja12/Aikaleima-Console">Aikaleima-Console repository</a>
            ja kääntää sen itse. Itse käytän Windows-ympäristöä mutta ohjelmat ovat komentorivipohjaisiaja alustariippumattomia joten ne voi kääntää  haluamaan ympäristöön.
        </p>
        <h3>Returnkey</h3>
        <p style="overflow: auto;">
            Ohjelma palauttaa kirjautumisavaimen jota  jokainen sovellus käyttää jatkossa. API-käyttöön tulee tehdä käyttäjä-hallinnassa tunnus.
            minkä kertakäyttöinen avain annataan parametrina ohjelmalle ja API-kutsu palauttaa sitten pysyvän avaimen ja luo settings.txt-tiedoston 
	   	    sitä sitten käytetään jatkossa muidan API:a käyttävien ohjelmien asetustiedostona.
    	     Kyseessä on käyttäjä kirjautumisesta ja se tallennetaan login_token kenttään. 
              <pre data-src="returnkey.main.rs" class="language-rust"></pre>
        </p>
	  <p style="overflow: auto;">
            <img src="apiavain.png" alt="Kirjautuminen" width="300" style="float: left; margin-right: 15px; margin-bottom: 5px;" />
            <img src="returnkey.png" alt="Kirjautuminen" width="300" style="float: left; margin-right: 15px; margin-bottom: 5px;" />
            <img src="returnkey2.png" alt="Kirjautuminen" width="300" style="float: left; margin-right: 15px; margin-bottom: 5px;" />
        </p>
        <h3>Returndevicekey</h3>
        <p style="overflow: auto;">
            Ohjelma palauttaa laitteen kirjautumisavaimen. API-käyttöön tulee tehdä laite-hallinnassa tunnus.
            minkä kertakäyttöinen avain annataan parametrina ohjelmalle ja API-kutsu palauttaa sitten pysyvän avaimen ja luo/muokkaa settings.txt-tiedostoa 
            Kyseessä on laitekirjautuminen lirjautumisesta ja se tallennetaan device_token kenttään. 
              <pre data-src="returndevicekey.main.rs" class="language-rust"></pre>
        </p>

        <h3>Loadstamps</h3>
        <p style="overflow: auto;">
            Ohjelma palauttaa leimaukset palvelimelta. Tähän tarvitaan Returkey ohjelman luoma asetustiedosto.
			Ohjelma muodostaa tiedoston stamps.csv jonka voi lukea vaikkapa exceliin. Ohjelma on vielä kesken tarkoitus on että 
			tietojen haun jälkeen ja kun on varmistettu että tiedot on käsitelty niin ajatus on että api-kutsulla kerrotaan järjestelmään 
			poisto kutsu siirretyille leimauksille.
            <pre data-src="loadstamps.main.rs" class="language-rust"></pre>
        </p>
        <p style="overflow: auto;">
            <img src="leimaussiirto1.png" alt="Leimaussiirto aloitus" width="300" style="float: left; margin-right: 15px; margin-bottom: 5px;" />
            <img src="leimaussiirto2.png" alt="Leimaussiirto lopetus" width="300" style="float: left; margin-right: 15px; margin-bottom: 5px;" />
        </p>
        <h3>Teststamp</h3>
        <p style="overflow: auto;">
            Ohjelma on suorituskyky testi jolla voidaan käynnistää haluttu määrä leimausohjelmia jotka tekee halutun määrän leimauksia. Komentojonolla
            run_load_test.bat voidaan suorittaa testiajot. testiohjelma käyttää laiteavainta settings.txt tiedstosta.
        </p>
                <p style="overflow: auto;">
            <img src="run_load_test.png" alt="suorituskyky testit" width="300" style="float: left; margin-right: 15px; margin-bottom: 5px;" />
              <pre data-src="teststamp.main.rs" class="language-rust"></pre>
        </p>


    </article>
    <script>
        // Haetaan kaikki kuvat, jotka ovat <article>-elementtien sisällä
        const images = document.querySelectorAll('article img');

        // Lisätään jokaiseen kuvaan tapahtumankäsittelijät
        images.forEach(img => {
            const originalWidth = img.width; // Tallennetaan alkuperäinen leveys

            img.addEventListener('mouseover', () => {
                img.style.width = '600px'; // Muutetaan leveys 600px, kun hiiri on päällä
            });
            img.addEventListener('mouseout', () => {
                img.style.width = originalWidth + 'px'; // Palautetaan alkuperäinen leveys, kun hiiri poistuu
            });
        });
    </script>
</body>
</html>